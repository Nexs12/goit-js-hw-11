{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import '/css/styles.css'\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\n\nconst refs = {\n  formEl: document.querySelector('#search-form'),\n  searchEl: document.querySelector('.search-btn'),\n}\n\nrefs.searchEl.addEventListener('click', () => {\n  const imageValue = refs.formEl.elements.input.value;\n\n  searchImage(imageValue)\n                .then(response => response.json())\n                .then(data => {\n                    if (data.hits.length > 0) {\n                        imagesList(data.hits);\n                    } else {\n                        iziToast.error({\n                            position: 'topRight',\n                            message: 'Sorry, there are no images matching your search query. Please, try again!',\n                        });\n                    }\n                    refs.formEl.reset();\n                })\n                .catch(error => {\n                    console.error('Error fetching images:', error);\n                    iziToast.error({\n                        title: 'Error',\n                        message: 'Something went wrong. Please try again later.',\n                    });\n                });\n        });\n\nfunction searchImage(image) {\n  const BASE_URL = 'https://pixabay.com/api/';\n\n  const params = new URLSearchParams({\n    key: '44102450-6df98fde061003ef9a12efa89',\n    q: image,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}?${params}`;\n\n  return fetch(url);\n}\n\nfunction imagesList(images) {\n  const gallery = document.getElementById('gallery');\n  \n  const imageMarkup = images\n    .map(image => \n      `<a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\" data-title=\"${image.tags}\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n          <ul class=\"image-info\">\n              <li class=\"info-item\">Likes<br><span>${image.likes}</span></ะด>\n              <li class=\"info-item\">Views<br><span>${image.views}</span></ะด>\n              <li class=\"info-item\">Comments<br><span>${image.comments}</span></ะด>\n              <li class=\"info-item\">Downloads<br><span>${image.downloads}</span></ะด>\n          </ul>\n      </a>`\n    )\n    .join('');\n\n  gallery.innerHTML = imageMarkup;\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250 \n\n});\n}"],"names":["refs","imageValue","searchImage","response","data","imagesList","iziToast","error","image","BASE_URL","params","url","images","gallery","imageMarkup","SimpleLightbox"],"mappings":"6vBASA,MAAMA,EAAO,CACX,OAAQ,SAAS,cAAc,cAAc,EAC7C,SAAU,SAAS,cAAc,aAAa,CAChD,EAEAA,EAAK,SAAS,iBAAiB,QAAS,IAAM,CAC5C,MAAMC,EAAaD,EAAK,OAAO,SAAS,MAAM,MAE9CE,EAAYD,CAAU,EACP,KAAKE,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACNA,EAAK,KAAK,OAAS,EACnBC,EAAWD,EAAK,IAAI,EAEpBE,EAAS,MAAM,CACX,SAAU,WACV,QAAS,2EACrC,CAAyB,EAELN,EAAK,OAAO,OAChC,CAAiB,EACA,MAAMO,GAAS,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+CACjC,CAAqB,CACrB,CAAiB,CACjB,CAAS,EAET,SAASJ,EAAYM,EAAO,CAC1B,MAAMC,EAAW,2BAEXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,CAClB,CAEA,SAASN,EAAWO,EAAQ,CAC1B,MAAMC,EAAU,SAAS,eAAe,SAAS,EAE3CC,EAAcF,EACjB,IAAIJ,GACH,YAAYA,EAAM,aAAa,yCAAyCA,EAAM,IAAI;AAAA,sBAClEA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,qDAEPA,EAAM,KAAK;AAAA,qDACXA,EAAM,KAAK;AAAA,wDACRA,EAAM,QAAQ;AAAA,yDACbA,EAAM,SAAS;AAAA;AAAA,WAGnE,EACA,KAAK,EAAE,EAEVK,EAAQ,UAAYC,EAEH,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GAElB,CAAC,CACD"}